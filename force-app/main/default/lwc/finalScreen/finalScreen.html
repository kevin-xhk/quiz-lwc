<!--
 - Created by piorodak on 18.11.2022.
 -->

<!-- Final Screen -->
<template>
    <ul class="slds-size_1-of-1">
        <template if:false={questionSelected}>
            <div >
                <p>
                    If you want change answer, please choose the question
                </p>
                <div class="slds-clearfix">
                    <div class="slds-float_right">
                        <lightning-input
                                type="checkbox"
                                label="Show only marked for review"
                                onchange={handleShowOnlyMarkedForReview}
                                checked={showOnlyMarkedForReview}
                        >
                        </lightning-input>
                    </div>
                </div>
            </div>

            <lightning-card class="slds-align_absolute-center">
                <template for:each={quizQuestionsToDisplay} for:item="question">
                    <li class="slds-align_absolute-center slds-m-bottom_x-small" key={question.Id}>
                        <button
                                type="submit"
                                value={question.Id}
                                onclick={handleSelectedQuestion}
                                class="slds-button slds-button_neutral slds-button_stretch slds-col"
                        >
                            {question.iterator}. {question.Description__c}
                        </button>
                    </li>
                </template>
                <template if:true={noQuestionsMarkedForReview}>
                    <p>There is no questions marked for review</p>
                </template>
            </lightning-card>
        </template>

        <template if:true={questionSelected}>
            <c-choose-answer
                    question-id={selectedQuestionId}
                    question-current-values={chosenQuestionCurrentValues}
                    onchangedvalues={handleUpdatedValues}
                    onchangeddata={handleDataUpdated}
            >
            </c-choose-answer>
        </template>

        <div slot="footer" class="slds-grid slds-gutters slds-clearfix">
            <template if:false={questionSelected}>
                <lightning-button
                        class="slds-col slds-align_absolute-center"
                        onclick={handleSubmit}
                        label="Submit"
                        variant="brand"
                >
                </lightning-button>
            </template>
            <template if:true={questionSelected}>
                <lightning-button
                        class="slds-col slds-align_absolute-center"
                        label="Back"
                        onclick={handleBack}
                >
                </lightning-button>
                <lightning-button
                        class="slds-col slds-align_absolute-center"
                        label="Change answer"
                        disabled={changeAnswerBtnDisabled}
                        onclick={handleChangeAnswer}
                        variant="brand"
                >
                </lightning-button>
            </template>

        </div>
    </ul>
</template>